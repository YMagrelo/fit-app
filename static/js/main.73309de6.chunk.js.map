{"version":3,"sources":["components/Heading.jsx","redux/reducer.jsx","components/ClubsList.jsx","propTypesConstant.js","components/Cities.jsx","components/Activities.jsx","App.jsx","api.js","redux/store.jsx","index.js"],"names":["Heading","className","initialState","clubsList","cities","activities","setCities","payload","type","setActivities","ClubsList","PropTypes","arrayOf","shape","title_short","string","isRequired","city","title","slug","activity","link","logo","props","map","club","key","Club","href","src","alt","Cities","setSelectedCity","selectedCity","onClick","defaultProps","Activities","selectedActivity","setSelectedActivity","connect","state","dispatch","getClubs","a","fetch","then","response","json","data","Set","flat","useState","useEffect","filteredClubs","filter","store","createStore","action","applyMiddleware","thunkMiddleware","window","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73309de6.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Heading = () => (\n  <div className=\"heading\">\n    <h1 className=\"heading__title\">Запись на тренировки онлайн</h1>\n    <p className=\"heading__list-title\">На нашем сайте вы сможете:</p>\n    <ul className=\"heading__list\">\n\n      <li className=\"heading__item\">\n          Узнать расписание тренировок в спортивных клубах\n      </li>\n      <li className=\"heading__item\">Записаться на тренировку</li>\n      <li className=\"heading__item\">\n          Выбрать абонемент и оплатить его кредитной картой\n      </li>\n    </ul>\n  </div>\n);\n","import { getClubs } from '../api';\n\nconst SET_CLUBS = 'SET_CLUBS';\nconst SET_CITIES = 'SET_SITIES';\nconst SET_ACTIVITIES = 'SET_ACTIVITIES';\n\nconst initialState = {\n  clubsList: [],\n  cities: [],\n  activities: [],\n};\n\nexport const reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_CLUBS:\n      return {\n        ...state,\n        clubsList: action.payload,\n      };\n\n    case SET_CITIES:\n      return {\n        ...state,\n        cities: action.payload,\n      };\n\n    case SET_ACTIVITIES:\n      return {\n        ...state,\n        activities: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst setClubs = payload => ({\n  type: SET_CLUBS,\n  payload,\n});\n\nconst setCities = payload => ({\n  type: SET_CITIES,\n  payload,\n});\n\nconst setActivities = payload => ({\n  type: SET_ACTIVITIES,\n  payload,\n});\n\nexport const getClubsThunk = () => async(dispatch) => {\n  const data = await getClubs();\n\n  dispatch(setClubs(data));\n\n  const cities = [...new Set(data.map(club => club.city.title))];\n  const activities = [...new Set(data\n    .map(club => club.activity\n      .map(activity => activity.slug))\n    .flat())];\n\n  dispatch(setCities(cities));\n  dispatch(setActivities(activities));\n};\n","import React from 'react';\nimport './ClubsList.scss';\nimport { clubsListPropTypes, clubPropTypes } from '../propTypesConstant';\n\nexport const ClubsList = (props) => {\n  const { clubsList } = props;\n\n  return (\n    <div className=\"list\">\n      {clubsList.map(club => (\n        <Club club={club} key={club.title} />\n      ))}\n    </div>\n  );\n};\n\nconst Club = (props) => {\n  const { club } = props;\n\n  return (\n    <div className=\"item\" key={club.title}>\n      <a href={club.link} className=\"item__link\">\n        <img src={club.logo} alt=\"club logo\" className=\"item__logo\" />\n      </a>\n      <p className=\"item__title\">{club.title_short}</p>\n    </div>\n  );\n};\n\nClubsList.propTypes = {\n  clubsList: clubsListPropTypes.isRequired,\n};\n\nClub.propTypes = {\n  club: clubPropTypes.isRequired,\n};\n","import PropTypes from 'prop-types';\n\nexport const clubsListPropTypes = PropTypes.arrayOf(\n  PropTypes.shape({\n    title_short: PropTypes.string.isRequired,\n    city: PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      slug: PropTypes.string.isRequired,\n    }).isRequired,\n    title: PropTypes.string.isRequired,\n    activity: PropTypes.arrayOf(\n      PropTypes.shape({\n        title: PropTypes.string.isRequired,\n        slug: PropTypes.string.isRequired,\n      }).isRequired,\n    ).isRequired,\n    link: PropTypes.string.isRequired,\n    logo: PropTypes.string.isRequired,\n  }).isRequired,\n).isRequired;\n\nexport const clubPropTypes = PropTypes.shape({\n  title_short: PropTypes.string.isRequired,\n  city: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    slug: PropTypes.string.isRequired,\n  }).isRequired,\n  title: PropTypes.string.isRequired,\n  activity: PropTypes.arrayOf(\n    PropTypes.shape({\n      title: PropTypes.string.isRequired,\n      slug: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n  link: PropTypes.string.isRequired,\n  logo: PropTypes.string.isRequired,\n}).isRequired;\n","import React from 'react';\nimport './Cities.scss';\nimport PropTypes from 'prop-types';\n\nexport const Cities = (props) => {\n  const { cities, setSelectedCity, selectedCity } = props;\n\n  return (\n    <div className=\"citiesList\">\n      {selectedCity\n      && (\n        <button\n          type=\"button\"\n          className=\"citiesItem citiesItem--reset\"\n          onClick={() => setSelectedCity(null)}\n        >\nReset\n        </button>\n      )}\n      {cities.map(city => (\n        <button\n          type=\"button\"\n          className=\"citiesItem\"\n          onClick={() => setSelectedCity(city)}\n          key={city}\n        >\n          {city}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nCities.propTypes = {\n  cities: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setSelectedCity: PropTypes.func.isRequired,\n  selectedCity: PropTypes.string,\n};\n\nCities.defaultProps = {\n  selectedCity: PropTypes.string,\n};\n","import React from 'react';\nimport './Activities.scss';\nimport PropTypes from 'prop-types';\n\nexport const Activities = (props) => {\n  const { activities, selectedActivity, setSelectedActivity } = props;\n\n  return (\n    <div className=\"activitiesList\">\n      {selectedActivity\n      && (\n        <button\n          type=\"button\"\n          className=\"activitiesItem activitiesItem--reset\"\n          onClick={() => setSelectedActivity(null)}\n        >\nReset\n        </button>\n      )}\n      {activities.map(activity => (\n        <button\n          type=\"button\"\n          className=\"activitiesItem\"\n          onClick={() => setSelectedActivity(activity)}\n          key={activity}\n        >\n          {activity}\n        </button>\n      ))}\n    </div>\n  );\n};\n\nActivities.propTypes = {\n  activities: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setSelectedActivity: PropTypes.func.isRequired,\n  selectedActivity: PropTypes.string,\n};\n\nActivities.defaultProps = {\n  selectedActivity: PropTypes.string,\n};\n","import React, { useEffect, useState } from 'react';\nimport './App.scss';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Heading } from './components/Heading';\nimport { getClubsThunk } from './redux/reducer';\nimport { ClubsList } from './components/ClubsList';\nimport { clubsListPropTypes } from './propTypesConstant';\nimport { Cities } from './components/Cities';\nimport { Activities } from './components/Activities';\n\nconst App = (props) => {\n  const { clubsList, getClubs, cities, activities } = props;\n  const [selectedCity, setSelectedCity] = useState(null);\n  const [selectedActivity, setSelectedActivity] = useState(null);\n\n  useEffect(() => {\n    getClubs();\n  }, []);\n\n  let filteredClubs = clubsList;\n\n  if (selectedCity) {\n    filteredClubs = clubsList.filter(club => club.city.title === selectedCity);\n  }\n\n  return (\n    <div className=\"app-wrapper\">\n      <Heading />\n      <Cities\n        cities={cities}\n        setSelectedCity={setSelectedCity}\n        selectedCity={selectedCity}\n      />\n      <Activities\n        activities={activities}\n        selectedActivity={selectedActivity}\n        setSelectedActivity={setSelectedActivity}\n      />\n      <ClubsList clubsList={filteredClubs} />\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  clubsList: state.clubsList,\n  cities: state.cities,\n  activities: state.activities,\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getClubs: () => dispatch(getClubsThunk()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n\nApp.propTypes = {\n  getClubs: PropTypes.func.isRequired,\n  clubsList: clubsListPropTypes.isRequired,\n  cities: PropTypes.arrayOf(PropTypes.string).isRequired,\n  activities: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n","const BASE_URL = 'https://instasport.co/dashboard/api/v1/clubs/';\n\nexport const getClubs = () => fetch(BASE_URL)\n  .then(response => response.json());\n","import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer } from './reducer';\n\nexport const store = createStore(reducer, applyMiddleware(thunkMiddleware));\n\nwindow.store = store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './redux/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}